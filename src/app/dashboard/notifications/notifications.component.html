<div class="flex flex-wrap">
    <div class="col-10 mr-5 mt-5">
        <mat-card class="container">
            <h1 class="dashboard-title">Updates & Notifications</h1>
 
<!--             
            <p style="text-align: right;" class="relative" [hidden]="itemsCount == 0 && dataSource">
             
            <button  mat-raised-button 
            
            color="primary"  
            [matMenuTriggerFor]="menu"
            class="cta-offer"><mat-icon>timeline</mat-icon> <strong>Generate report</strong></button>
            <mat-menu #menu="matMenu" xPosition="after">
              <button mat-menu-item (click)="getReport(reports.Monthly)"><span class="text-gray-900">Monthly report</span></button>
              <button mat-menu-item (click)="getReport('')"><span class="text-gray-900">All transactions report</span></button>
            </mat-menu>
            </p> -->
          
<div [hidden]="!dataSource">
  <div [hidden]="itemsCount == 0 && dataSource">
    <!-- <button mat-raised-button class="sort-btns" (click)="resetOrder('desc')"> Sort descending</button>
    <button mat-raised-button class="sort-btns" (click)="resetOrder('asc')"> Sort ascending </button> -->
    <br/>
    <div *ngIf="selection.selected.length > 0">
      <h1 class="dashboard-title-bold"><strong>Selected {{selection.selected.length}} bulk payments to resend </strong></h1>
      <button mat-raised-button class="sort-btns" (click)="openConfirmDialog()"  color="primary"> <strong>Resend payments</strong> </button>
    </div>

    <table mat-table [dataSource]="dataSource">

               
                       
      <ng-container matColumnDef="transactionRef">
        <th mat-header-cell *matHeaderCellDef> Reference ID. </th>
        <td mat-cell *matCellDef="let element" ><strong> {{transform(element.transactionRef,10)}}</strong></td>
      </ng-container>
  
      <ng-container matColumnDef="amount">
        <th mat-header-cell *matHeaderCellDef style="text-align: center !important;"> Amount </th>
        <td mat-cell *matCellDef="let element" ><strong> UGX{{element.amount}}</strong></td>
      </ng-container>

       <ng-container matColumnDef="charge">
    <th mat-header-cell *matHeaderCellDef>
      <mat-checkbox (change)="$event ? masterToggle() : null"
                    [checked]="selection.hasValue() && isAllSelected()"
                    [indeterminate]="selection.hasValue() && !isAllSelected()"
                    [aria-label]="checkboxLabel()">
      </mat-checkbox>
    </th>
    <td mat-cell *matCellDef="let row" style="padding-left: 24px !important;">
      <mat-checkbox (click)="$event.stopPropagation()"
                    (change)="$event ? selection.toggle(row) : null"
                    [checked]="selection.isSelected(row)"
                    [aria-label]="checkboxLabel(row)">
      </mat-checkbox>
    </td>
  </ng-container>

   
      <ng-container matColumnDef="transactionInitiationDate">
        <th mat-header-cell *matHeaderCellDef style="text-align: center !important;">Date </th>
        <td mat-cell *matCellDef="let element"><strong> {{element.transactionInitiationDate | date}} </strong></td>
      </ng-container>
  
      <ng-container matColumnDef="phoneNumber">
        <th mat-header-cell *matHeaderCellDef style="text-align: center !important;"> Sent to</th>
        <td mat-cell *matCellDef="let element"> <div 
          [ngClass]="element.phoneNumber.length > 20 ? 'scrollable': ''"
          ><strong> +{{element.phoneNumber}}</strong></div> </td>
      </ng-container>
  
      <ng-container matColumnDef="transactionType">
        <th mat-header-cell *matHeaderCellDef style="text-align: center !important;"> Type </th>
        <td mat-cell *matCellDef="let element"><strong> {{element.transactionType}}</strong></td>
      </ng-container>

      <ng-container matColumnDef="status">
        <th mat-header-cell *matHeaderCellDef style="text-align: center !important;"> Status </th>
        <td mat-cell *matCellDef="let element"> <span [ngClass]="element.status == 'FAILED' ? 'warning': 'success-text'">{{element.status}}</span> </td>
      </ng-container>
  
  
      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
    </table>
  
    <mat-paginator [pageSizeOptions]="[6, 50, 100]" showFirstLastButtons></mat-paginator>
  
  </div>
  
  <p *ngIf="itemsCount == 0" class="text-center py-10 text-gray-900">You have transactions yet</p>

</div>

           
     <app-skeleton *ngIf="!dataSource"></app-skeleton>

        </mat-card>
    </div>
</div>